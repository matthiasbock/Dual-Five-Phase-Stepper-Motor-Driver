EESchema Schematic File Version 2
LIBS:L298
LIBS:power
LIBS:device
LIBS:switches
LIBS:relays
LIBS:motors
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:Top-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 12 14
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L +5V #PWR?
U 1 1 5A2AFFA3
P 2450 2350
F 0 "#PWR?" H 2450 2200 50  0001 C CNN
F 1 "+5V" H 2450 2490 50  0000 C CNN
F 2 "" H 2450 2350 50  0001 C CNN
F 3 "" H 2450 2350 50  0001 C CNN
	1    2450 2350
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2AFFB7
P 2450 2450
F 0 "#PWR?" H 2450 2250 50  0001 C CNN
F 1 "GNDPWR" H 2450 2300 50  0000 C CNN
F 2 "" H 2450 2400 50  0001 C CNN
F 3 "" H 2450 2400 50  0001 C CNN
	1    2450 2450
	1    0    0    -1  
$EndComp
$Comp
L Screw_Terminal_01x02 J?
U 1 1 5A2AFFCB
P 2250 2350
F 0 "J?" H 2250 2450 50  0000 C CNN
F 1 "Screw_Terminal_01x02" V 2350 2300 50  0001 C CNN
F 2 "" H 2250 2350 50  0001 C CNN
F 3 "" H 2250 2350 50  0001 C CNN
	1    2250 2350
	-1   0    0    -1  
$EndComp
$Comp
L AP2127N-3.3 U?
U 1 1 5A2B0281
P 3750 2250
F 0 "U?" H 3600 2375 50  0000 C CNN
F 1 "AP2127N-3.3" H 3750 2375 50  0000 L CNN
F 2 "TO_SOT_Packages_SMD:SOT-23" H 3750 2475 50  0001 C CIN
F 3 "" H 3750 2250 50  0001 C CNN
	1    3750 2250
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2B0316
P 3750 2550
F 0 "#PWR?" H 3750 2350 50  0001 C CNN
F 1 "GNDPWR" H 3750 2400 50  0000 C CNN
F 2 "" H 3750 2500 50  0001 C CNN
F 3 "" H 3750 2500 50  0001 C CNN
	1    3750 2550
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5A2B0329
P 3000 2250
F 0 "#PWR?" H 3000 2100 50  0001 C CNN
F 1 "+5V" H 3000 2390 50  0000 C CNN
F 2 "" H 3000 2250 50  0001 C CNN
F 3 "" H 3000 2250 50  0001 C CNN
	1    3000 2250
	1    0    0    -1  
$EndComp
$Comp
L C_Small C?
U 1 1 5A2B034A
P 3150 2400
F 0 "C?" H 3160 2470 50  0000 L CNN
F 1 "C_Small" H 3160 2320 50  0000 L CNN
F 2 "" H 3150 2400 50  0001 C CNN
F 3 "" H 3150 2400 50  0001 C CNN
	1    3150 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 2550 3750 2550
Wire Wire Line
	3750 2550 4300 2550
Connection ~ 3150 2250
Wire Wire Line
	3150 2550 3150 2500
Wire Wire Line
	3150 2300 3150 2250
Wire Wire Line
	4050 2250 4300 2250
Wire Wire Line
	4300 2250 4550 2250
Connection ~ 3750 2550
$Comp
L C_Small C?
U 1 1 5A2B041E
P 4300 2400
F 0 "C?" H 4310 2470 50  0000 L CNN
F 1 "C_Small" H 4310 2320 50  0000 L CNN
F 2 "" H 4300 2400 50  0001 C CNN
F 3 "" H 4300 2400 50  0001 C CNN
	1    4300 2400
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 5A2B045B
P 4550 2250
F 0 "#PWR?" H 4550 2100 50  0001 C CNN
F 1 "+3.3V" H 4550 2390 50  0000 C CNN
F 2 "" H 4550 2250 50  0001 C CNN
F 3 "" H 4550 2250 50  0001 C CNN
	1    4550 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4300 2250 4300 2300
Connection ~ 4300 2250
Wire Wire Line
	4300 2550 4300 2500
$Comp
L +5V #PWR?
U 1 1 5A2B0710
P 3150 3050
F 0 "#PWR?" H 3150 2900 50  0001 C CNN
F 1 "+5V" H 3150 3190 50  0000 C CNN
F 2 "" H 3150 3050 50  0001 C CNN
F 3 "" H 3150 3050 50  0001 C CNN
	1    3150 3050
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 5A2B0727
P 4300 3050
F 0 "#PWR?" H 4300 2900 50  0001 C CNN
F 1 "+3.3V" H 4300 3190 50  0000 C CNN
F 2 "" H 4300 3050 50  0001 C CNN
F 3 "" H 4300 3050 50  0001 C CNN
	1    4300 3050
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2B0B5C
P 3150 3550
F 0 "#PWR?" H 3150 3350 50  0001 C CNN
F 1 "GNDPWR" H 3150 3400 50  0000 C CNN
F 2 "" H 3150 3500 50  0001 C CNN
F 3 "" H 3150 3500 50  0001 C CNN
	1    3150 3550
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2B0B83
P 4300 3550
F 0 "#PWR?" H 4300 3350 50  0001 C CNN
F 1 "GNDPWR" H 4300 3400 50  0000 C CNN
F 2 "" H 4300 3500 50  0001 C CNN
F 3 "" H 4300 3500 50  0001 C CNN
	1    4300 3550
	1    0    0    -1  
$EndComp
$Comp
L R_Small R?
U 1 1 5A2B0B98
P 3150 3150
F 0 "R?" H 3180 3170 50  0000 L CNN
F 1 "R_Small" H 3180 3110 50  0000 L CNN
F 2 "" H 3150 3150 50  0001 C CNN
F 3 "" H 3150 3150 50  0001 C CNN
	1    3150 3150
	1    0    0    -1  
$EndComp
$Comp
L R_Small R?
U 1 1 5A2B0BCB
P 4300 3150
F 0 "R?" H 4330 3170 50  0000 L CNN
F 1 "R_Small" H 4330 3110 50  0000 L CNN
F 2 "" H 4300 3150 50  0001 C CNN
F 3 "" H 4300 3150 50  0001 C CNN
	1    4300 3150
	1    0    0    -1  
$EndComp
$Comp
L LED D?
U 1 1 5A2B0C09
P 3150 3400
F 0 "D?" H 3150 3500 50  0000 C CNN
F 1 "LED" H 3150 3300 50  0000 C CNN
F 2 "" H 3150 3400 50  0001 C CNN
F 3 "" H 3150 3400 50  0001 C CNN
	1    3150 3400
	0    -1   -1   0   
$EndComp
$Comp
L LED D?
U 1 1 5A2B0C55
P 4300 3400
F 0 "D?" H 4300 3500 50  0000 C CNN
F 1 "LED" H 4300 3300 50  0000 C CNN
F 2 "" H 4300 3400 50  0001 C CNN
F 3 "" H 4300 3400 50  0001 C CNN
	1    4300 3400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3450 2250 3150 2250
Wire Wire Line
	3150 2250 3000 2250
$Comp
L Q_NMOS_GDS Q?
U 1 1 5A2B4511
P 7650 3800
F 0 "Q?" H 7850 3850 50  0000 L CNN
F 1 "Q_NMOS_GDS" H 7850 3750 50  0000 L CNN
F 2 "" H 7850 3900 50  0001 C CNN
F 3 "" H 7650 3800 50  0001 C CNN
	1    7650 3800
	1    0    0    -1  
$EndComp
$Comp
L LM358 U?
U 1 1 5A2B487D
P 6650 2000
F 0 "U?" H 6650 2200 50  0000 L CNN
F 1 "LM358" H 6650 1800 50  0000 L CNN
F 2 "" H 6650 2000 50  0001 C CNN
F 3 "" H 6650 2000 50  0001 C CNN
	1    6650 2000
	1    0    0    -1  
$EndComp
$Comp
L LM358 U?
U 2 1 5A2B48DE
P 6600 3800
F 0 "U?" H 6600 4000 50  0000 L CNN
F 1 "LM358" H 6600 3600 50  0000 L CNN
F 2 "" H 6600 3800 50  0001 C CNN
F 3 "" H 6600 3800 50  0001 C CNN
	2    6600 3800
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5A2B4ABD
P 6500 3500
F 0 "#PWR?" H 6500 3350 50  0001 C CNN
F 1 "+5V" H 6500 3640 50  0000 C CNN
F 2 "" H 6500 3500 50  0001 C CNN
F 3 "" H 6500 3500 50  0001 C CNN
	1    6500 3500
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5A2B4B1F
P 6550 1700
F 0 "#PWR?" H 6550 1550 50  0001 C CNN
F 1 "+5V" H 6550 1840 50  0000 C CNN
F 2 "" H 6550 1700 50  0001 C CNN
F 3 "" H 6550 1700 50  0001 C CNN
	1    6550 1700
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2B4F34
P 6550 2300
F 0 "#PWR?" H 6550 2100 50  0001 C CNN
F 1 "GNDPWR" H 6550 2150 50  0000 C CNN
F 2 "" H 6550 2250 50  0001 C CNN
F 3 "" H 6550 2250 50  0001 C CNN
	1    6550 2300
	1    0    0    -1  
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2B4F6B
P 6500 4100
F 0 "#PWR?" H 6500 3900 50  0001 C CNN
F 1 "GNDPWR" H 6500 3950 50  0000 C CNN
F 2 "" H 6500 4050 50  0001 C CNN
F 3 "" H 6500 4050 50  0001 C CNN
	1    6500 4100
	1    0    0    -1  
$EndComp
$Comp
L R_Small R?
U 1 1 5A2B531C
P 7200 3800
F 0 "R?" V 7100 3750 50  0000 L CNN
F 1 "R_Small" V 7300 3700 50  0000 L CNN
F 2 "" H 7200 3800 50  0001 C CNN
F 3 "" H 7200 3800 50  0001 C CNN
	1    7200 3800
	0    1    1    0   
$EndComp
Wire Wire Line
	7300 3800 7450 3800
Wire Wire Line
	7100 3800 6900 3800
$Comp
L GNDPWR #PWR?
U 1 1 5A2B5A80
P 7750 4000
F 0 "#PWR?" H 7750 3800 50  0001 C CNN
F 1 "GNDPWR" H 7750 3850 50  0000 C CNN
F 2 "" H 7750 3950 50  0001 C CNN
F 3 "" H 7750 3950 50  0001 C CNN
	1    7750 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6300 3900 5900 3900
Wire Wire Line
	6300 3700 5900 3700
Text GLabel 5900 3900 0    60   Input ~ 0
current_scaled
Text GLabel 5900 3700 0    60   Input ~ 0
current_desired
Text GLabel 8000 2000 0    60   Output ~ 0
current_scaled
Wire Wire Line
	7300 2000 6950 2000
Wire Wire Line
	6350 1900 5950 1900
Text GLabel 5950 1900 0    60   Input ~ 0
current_measured
$Comp
L R_Small R?
U 1 1 5A2B7511
P 6000 2350
F 0 "R?" V 5900 2300 50  0000 L CNN
F 1 "R_Small" V 6100 2250 50  0000 L CNN
F 2 "" H 6000 2350 50  0001 C CNN
F 3 "" H 6000 2350 50  0001 C CNN
	1    6000 2350
	-1   0    0    1   
$EndComp
$Comp
L R_Small R?
U 1 1 5A2B7616
P 6000 2650
F 0 "R?" V 5900 2600 50  0000 L CNN
F 1 "R_Small" V 6100 2550 50  0000 L CNN
F 2 "" H 6000 2650 50  0001 C CNN
F 3 "" H 6000 2650 50  0001 C CNN
	1    6000 2650
	-1   0    0    1   
$EndComp
$Comp
L GNDPWR #PWR?
U 1 1 5A2B7666
P 6000 2950
F 0 "#PWR?" H 6000 2750 50  0001 C CNN
F 1 "GNDPWR" H 6000 2800 50  0000 C CNN
F 2 "" H 6000 2900 50  0001 C CNN
F 3 "" H 6000 2900 50  0001 C CNN
	1    6000 2950
	1    0    0    -1  
$EndComp
$Sheet
S 3800 4950 1750 1250
U 5A2B8A78
F0 "Current chopper 1" 60
F1 "Chopper.sch" 60
$EndSheet
$Sheet
S 5950 4950 1750 1250
U 5A2B8CFF
F0 "Current chopper 2" 60
F1 "Chopper.sch" 60
$EndSheet
$EndSCHEMATC
